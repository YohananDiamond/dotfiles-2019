#!/usr/bin/env bash

main() {

    local self_run="env space-switcher"
    local fuzzy="fzf" # in ("fzf" | "rofi -dmenu")
    st -g 80x20 -c "float" -t "Space Switcher" -e "${self_run} ${fuzzy}"
    # st -g "500x20+1000+1000" -t "__space_switcher" -c "popup" -e "${self_run} ${fuzzy}"
    # gnome-terminal --geometry="500x20+1000+1000" --command="${self_run} ${fuzzy}"

} 

run_fuzzy() {

    if [[ -z "$1" ]]; then
        echo "space-switcher::run_fuzzy: no fuzzy finder program specified."
        exit 1
    fi

    local command_list=$(compgen -c)

    local fuzzy_choice=$(echo "${command_list}" | "$1")

    # ("main menu" | "window switcher" | "file finder" | "terminal command")

}

# Select the function above to run
if [[ -z "$1" ]]; then
    # Run the terminal if no fuzzy finder arg is provided
    main
else
    # Run the fuzzy finder code if a fuzzy finder arg is provided
    run_fuzzy "$1"
fi
